<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026å¹´é©¬å¹´è´¢è¿æµ‹è¯•</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.6;
            padding: 16px;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(90deg, #d4a017, #ffcc33);
            color: #8b4513;
            padding: 24px 20px;
            text-align: center;
            border-bottom: 3px solid #8b4513;
        }

        .header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
        }

        .header p {
            font-size: 1rem;
            opacity: 0.9;
        }

        .progress-container {
            background: #f8f3e9;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e8d9b5;
        }

        .progress-bar {
            flex-grow: 1;
            height: 8px;
            background: #e8d9b5;
            border-radius: 4px;
            margin: 0 15px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #d4a017, #ffcc33);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .quiz-container {
            padding: 0;
        }

        .quiz-section {
            display: block;
            padding: 20px;
            animation: fadeIn 0.5s ease;
        }

        .quiz-section.hidden {
            display: none;
        }

        .section-title {
            font-size: 1.4rem;
            color: #8b4513;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0e6d2;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #d4a017;
        }

        .question {
            margin-bottom: 24px;
            padding: 18px;
            background: #f9f5ed;
            border-radius: 12px;
            border-left: 4px solid #d4a017;
            transition: all 0.3s ease;
        }

        .question:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 160, 23, 0.1);
        }

        .question p {
            font-size: 1.1rem;
            margin-bottom: 16px;
            color: #5a4a3a;
            font-weight: 600;
        }

        .option {
            display: flex;
            align-items: flex-start;
            padding: 14px 16px;
            margin-bottom: 12px;
            background: white;
            border: 2px solid #e8d9b5;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .option:hover {
            border-color: #d4a017;
            background: #fffdf6;
        }

        .option.selected {
            border-color: #d4a017;
            background: #fff8e1;
            box-shadow: 0 4px 12px rgba(212, 160, 23, 0.15);
        }

        .option input[type="radio"] {
            display: none;
        }

        .radio-custom {
            width: 22px;
            height: 22px;
            border: 2px solid #d4a017;
            border-radius: 50%;
            margin-right: 14px;
            position: relative;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .option.selected .radio-custom::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            background: #d4a017;
            border-radius: 50%;
        }

        .option-label {
            font-size: 1rem;
            line-height: 1.5;
            color: #5a4a3a;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e8d9b5;
        }

        .btn {
            padding: 16px 28px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 140px;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-prev {
            background: #f5f5f5;
            color: #666;
        }

        .btn-next {
            background: linear-gradient(90deg, #d4a017, #ffcc33);
            color: white;
            box-shadow: 0 4px 12px rgba(212, 160, 23, 0.3);
        }

        .btn-next:active {
            box-shadow: 0 2px 8px rgba(212, 160, 23, 0.3);
        }

        .result-container {
            padding: 20px;
            animation: fadeIn 0.8s ease;
        }

        .result-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-top: 20px;
            border: 2px solid #f0e6d2;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
        }

        .result-header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #f0e6d2;
        }

        .result-header h3 {
            font-size: 1.5rem;
            color: #8b4513;
            margin-bottom: 8px;
        }

        .score-display {
            font-size: 2.2rem;
            font-weight: bold;
            color: #d4a017;
            margin: 10px 0;
        }

        .score-total {
            font-size: 1rem;
            color: #999;
            margin-left: 5px;
        }

        .result-content {
            margin-top: 20px;
        }

        .result-item {
            margin-bottom: 24px;
        }

        .result-item h4 {
            font-size: 1.2rem;
            color: #8b4513;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-item p {
            color: #666;
            line-height: 1.7;
            font-size: 1.05rem;
        }

        .fortune-type {
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #d4a017;
            margin: 20px 0;
        }

        .fortune-type h4 {
            color: #8b4513;
            margin-bottom: 10px;
        }

        .fortune-type p {
            font-size: 1.1rem;
            font-weight: 600;
            color: #d4a017;
        }

        .final-result {
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            padding: 30px 24px;
            border-radius: 16px;
            margin-top: 24px;
            text-align: center;
            border: 2px solid #e8d9b5;
        }

        .final-result h2 {
            color: #8b4513;
            margin-bottom: 20px;
            font-size: 1.6rem;
        }

        .final-result p {
            margin-bottom: 16px;
            line-height: 1.7;
            font-size: 1.1rem;
        }

        .horseshoe {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #d4a017;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
        @media (max-width: 768px) {
            body {
                padding: 12px;
            }

            .header {
                padding: 20px 16px;
            }

            .header h1 {
                font-size: 1.5rem;
            }

            .progress-container {
                padding: 14px 16px;
            }

            .quiz-section {
                padding: 16px;
            }

            .question {
                padding: 16px;
                margin-bottom: 20px;
            }

            .question p {
                font-size: 1.05rem;
            }

            .option {
                padding: 12px 14px;
                margin-bottom: 10px;
            }

            .option-label {
                font-size: 0.95rem;
            }

            .btn {
                padding: 14px 24px;
                min-width: 120px;
                font-size: 0.95rem;
            }

            .button-group {
                flex-direction: column;
                gap: 12px;
            }

            .btn {
                width: 100%;
            }

            .result-card {
                padding: 20px 16px;
            }

            .final-result {
                padding: 24px 16px;
            }

            .final-result h2 {
                font-size: 1.4rem;
            }
        }

        /* éå¸¸å°çš„å±å¹• */
        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.3rem;
            }

            .question p {
                font-size: 1rem;
            }

            .option {
                padding: 10px 12px;
            }

            .option-label {
                font-size: 0.9rem;
            }
        }

        /* é˜²æ­¢æ–‡æœ¬é€‰ä¸­ */
        .option,
        .btn {
            user-select: none;
            -webkit-user-select: none;
        }

        /* ä¿®å¤iOS Safariçš„æŒ‰é’®æ ·å¼ */
        button {
            -webkit-appearance: none;
            appearance: none;
        }

        footer {
            text-align: center;
            padding: 20px 10px;
            color: #999;
            font-size: 0.85rem;
            margin-top: 20px;
            line-height: 1.5;
        }

        .hint {
            text-align: center;
            color: #d4a017;
            font-size: 0.9rem;
            margin-top: 10px;
            padding: 8px;
            background: #fff8e1;
            border-radius: 8px;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .spinner {
            border: 3px solid #f0e6d2;
            border-top: 3px solid #d4a017;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* æ–°å¢å›¾è¡¨æ ·å¼ */
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
            margin: 30px auto;
        }

        .chart-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }

        .chart-card {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        .chart-title {
            text-align: center;
            color: #8b4513;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ 2026å¹´é©¬å¹´è´¢è¿æµ‹è¯•</h1>
            <p>å®Œæˆæµ‹è¯•ï¼Œè·å–æ‚¨çš„ä¸“å±è´¢è¿åˆ†æ</p>
        </div>

        <div class="progress-container">
            <span id="stepIndicator">ç¬¬ä¸€è½® 1/10</span>
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            <span id="stepCount">ç¬¬1é¢˜</span>
        </div>

        <div class="quiz-container">
            <!-- ç¬¬ä¸€éƒ¨åˆ† -->
            <div class="quiz-section active" id="part1">
                <h2 class="section-title"><i class="fas fa-coins"></i> ç¬¬ä¸€è½®ï¼šè´¢åŠ¡è§„åˆ’ä¸è§‚å¿µ</h2>

                <div class="question" data-question="1">
                    <p><strong>1. åœ¨2026å¹´å¹´åˆï¼Œä½ æ›´å€¾å‘äºå¦‚ä½•è§„åˆ’è´¢åŠ¡ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. åˆ¶å®šè¯¦ç»†æ”¶æ”¯è®¡åˆ’ï¼Œä¸¥æ ¼æ‰§è¡Œ</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å¤§è‡´æœ‰ä¸ªæ–¹å‘ï¼Œçµæ´»è°ƒæ•´</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. å…ˆå¤šèµšé’±ï¼Œè§„åˆ’ä¹‹åå†è¯´</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. ç›¸ä¿¡ç›´è§‰ï¼Œé¡ºåŠ¿è€Œä¸º</div>
                    </div>
                </div>

                <div class="question" data-question="2">
                    <p><strong>2. ä½ è®¤ä¸º2026å¹´å¯¹ä½ æ¥è¯´ï¼Œä¸»è¦çš„è´¢å¯Œæœºä¼šæ›´å¯èƒ½æ¥è‡ªï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. æœ¬èŒå·¥ä½œæˆ–åŠ è–ª</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. æŠ•èµ„ç†è´¢æˆ–å‰¯ä¸š</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. åˆä½œä¸äººè„‰å¸¦æ¥çš„æœºä¼š</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. æ„å¤–æƒŠå–œæˆ–ç¤¼ç‰©</div>
                    </div>
                </div>

                <div class="question" data-question="3">
                    <p><strong>3. å¦‚æœæœ‰ä¸€ç¬”é¢å¤–æ”¶å…¥ï¼Œä½ ç¬¬ä¸€æ—¶é—´ä¼šæ€ä¹ˆå¤„ç†ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å­˜èµ·æ¥æˆ–è¿˜è´·</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. æŠ•èµ„è‡ªå·±ï¼ˆå­¦ä¹ ã€å¥åº·ï¼‰</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. è´­ä¹°å¿ƒä»ªå·²ä¹…çš„ä¸œè¥¿</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. è¯·å®¢åˆ†äº«æˆ–ç»™å®¶äºº</div>
                    </div>
                </div>

                <div class="question" data-question="4">
                    <p><strong>4. é¢å¯¹ä¸€é¡¹æœ‰é£é™©ä½†å¯èƒ½é«˜å›æŠ¥çš„æŠ•èµ„ï¼Œä½ ä¼šï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å½»åº•ç ”ç©¶åå†è°¨æ…å°è¯•</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å°é‡‘é¢è¯•è¯•æ°´</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. è·Ÿéšä¿¡ä»»çš„æœ‹å‹æˆ–ä¸“å®¶</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å›é¿ï¼Œæ›´çœ‹é‡èµ„é‡‘å®‰å…¨</div>
                    </div>
                </div>

                <div class="question" data-question="5">
                    <p><strong>5. 2026å¹´ï¼Œä½ æ›´å¯èƒ½åœ¨å“ªç§æ¶ˆè´¹ä¸Šè¶…æ”¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å®¶åº­ç”¨å“æˆ–æˆ¿äº§ç›¸å…³</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. ç¤¾äº¤åº”é…¬æˆ–äººæƒ…å¾€æ¥</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. ä¸ªäººçˆ±å¥½æˆ–å¥¢ä¾ˆä½“éªŒ</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å¥åº·åŒ»ç–—æˆ–ä¿é™©</div>
                    </div>
                </div>

                <div class="question" data-question="6">
                    <p><strong>6. å…³äº"å€Ÿé’±ç»™æœ‹å‹"ï¼Œä½ åœ¨2026å¹´çš„æ€åº¦æ˜¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. åšå†³ä¸å€Ÿï¼Œé¿å…çº çº·</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. åªå€Ÿå°é‡‘é¢ï¼Œä¸æŒ‡æœ›è¿˜</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. çœ‹æƒ…å†µï¼Œè¦æœ‰å€Ÿæ¡</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å¤§æ–¹å€Ÿå‡ºï¼Œä¿¡ä»»æœ‹å‹</div>
                    </div>
                </div>

                <div class="question" data-question="7">
                    <p><strong>7. åœ¨èŒåœºä¸­ï¼Œ2026å¹´ä½ çš„è´¢å¯Œå¢é•¿å…³é”®é ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. è¸å®åŠªåŠ›ï¼Œç­‰å¾…æ™‹å‡</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. ä¸»åŠ¨äº‰å–æ–°é¡¹ç›®æˆ–è·³æ§½</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. æ‹“å±•äººè„‰ï¼Œå¯»æ‰¾è´µäºº</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å‘å±•å‰¯ä¸šï¼Œå¤šæ¡è…¿èµ°è·¯</div>
                    </div>
                </div>

                <div class="question" data-question="8">
                    <p><strong>8. ä½ 2026å¹´çš„åè´¢è¿å¯èƒ½ä½“ç°åœ¨ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. æŠ½å¥–ã€çº¢åŒ…ç­‰å°è¿æ°”</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. è‚¡ç¥¨ã€åŸºé‡‘ç­‰æŠ•èµ„è·åˆ©</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. äºŒæ‰‹é—²ç½®è½¬å–æ”¶ç›Š</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. åˆä½œåˆ†çº¢æˆ–ä»–äººé¦ˆèµ </div>
                    </div>
                </div>

                <div class="question" data-question="9">
                    <p><strong>9. é‡åˆ°è´¢åŠ¡å‹åŠ›æ—¶ï¼Œä½ æœ€å…ˆä¼šï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å‰Šå‡å¼€æ”¯ï¼ŒèŠ‚æµä¸ºå…ˆ</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å¯»æ‰¾å…¼èŒæˆ–å¢æ”¶é€”å¾„</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. å‘å®¶äººæˆ–æœ‹å‹æ±‚åŠ©</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. ä¿æŒä¹è§‚ï¼Œç­‰å¾…è½¬æœº</div>
                    </div>
                </div>

                <div class="question" data-question="10">
                    <p><strong>10. ä½ è®¤ä¸º2026å¹´è´¢è¿æœ€å¥½çš„å­£èŠ‚æ˜¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. æ˜¥å­£ï¼ˆ1-3æœˆï¼‰</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å¤å­£ï¼ˆ4-6æœˆï¼‰</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. ç§‹å­£ï¼ˆ7-9æœˆï¼‰</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å†¬å­£ï¼ˆ10-12æœˆï¼‰</div>
                    </div>
                </div>

                <div class="hint">ğŸ‘† ç‚¹å‡»é€‰é¡¹é€‰æ‹©ç­”æ¡ˆï¼Œå®Œæˆæ‰€æœ‰é¢˜ç›®åæäº¤</div>

                <div class="button-group">
                    <button class="btn btn-next" onclick="submitPart1()">
                        æäº¤ç¬¬ä¸€è½® <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- ç¬¬ä¸€éƒ¨åˆ†ç»“æœ -->
            <div class="quiz-section hidden" id="part1Result">
                <div class="result-card">
                    <div class="result-header">
                        <h3>ç¬¬ä¸€è½®æµ‹è¯•ç»“æœ</h3>
                        <div class="score-display">
                            <span id="score1">0</span><span class="score-total">/ 30 åˆ†</span>
                        </div>
                    </div>

                    <div class="result-content">
                        <div class="result-item">
                            <h4><i class="fas fa-chart-line"></i> åˆæ­¥åˆ†æ</h4>
                            <p id="analysis1">åˆ†æå†…å®¹åŠ è½½ä¸­...</p>
                        </div>

                        <div class="fortune-type">
                            <h4><i class="fas fa-lightbulb"></i> è´¢è¿æç¤º</h4>
                            <p>è¯·ç»§ç»­å®Œæˆç¬¬äºŒè½®æµ‹è¯•ä»¥è·å¾—å®Œæ•´è´¢è¿è§£è¯»</p>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-prev" onclick="restartQuiz()">
                            <i class="fas fa-redo"></i> é‡æ–°æµ‹è¯•
                        </button>
                        <button class="btn btn-next" onclick="showPart2()">
                            è¿›å…¥ç¬¬äºŒè½® <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- ç¬¬äºŒéƒ¨åˆ† -->
            <div class="quiz-section hidden" id="part2">
                <h2 class="section-title"><i class="fas fa-chart-pie"></i> ç¬¬äºŒè½®ï¼šæŠ•èµ„ä¸è´¢è¿ç›´è§‰</h2>

                <div class="question" data-question="11">
                    <p><strong>11. ä½ å¦‚ä½•çœ‹å¾…2026å¹´æˆ¿äº§æˆ–å¤§å®—èµ„äº§é…ç½®ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. è°¨æ…è§‚æœ›ï¼Œä¸è½»æ˜“å˜åŠ¨</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å¦‚æœæœ‰å¥½æœºä¼šå°±å‡ºæ‰‹</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. ä¼˜å…ˆä¼˜åŒ–ç°æœ‰èµ„äº§</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. ä¸å…³å¿ƒè¿™ä¸ªé¢†åŸŸ</div>
                    </div>
                </div>

                <div class="question" data-question="12">
                    <p><strong>12. åœ¨ç†è´¢çŸ¥è¯†å­¦ä¹ ä¸Šï¼Œ2026å¹´ä½ ä¼šï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. ç³»ç»Ÿå­¦ä¹ ä¸€é—¨è¯¾ç¨‹</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. ç¢ç‰‡åŒ–é˜…è¯»è´¢ç»èµ„è®¯</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. è·Ÿéšä¿¡ä»»çš„ç†è´¢åšä¸»</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. æš‚æ—¶ä¸å­¦ä¹ ï¼Œå‡­ç»éªŒ</div>
                    </div>
                </div>

                <div class="question" data-question="13">
                    <p><strong>13. æœ‹å‹é‚€è¯·ä½ å‚ä¸ä¸€ä¸ªæ–°åˆ›ä¸šé¡¹ç›®ï¼Œä½ ä¼šï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. ç†æ€§åˆ†æåå†å†³å®š</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. çƒ­æƒ…å‚ä¸å¹¶æŠ•å…¥èµ„é‡‘</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. åªå¸®å¿™ï¼Œä¸æŠ•é’±</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å©‰æ‹’ï¼Œä¸“æ³¨ç°æœ‰äº‹åŠ¡</div>
                    </div>
                </div>

                <div class="question" data-question="14">
                    <p><strong>14. 2026å¹´ï¼Œä½ æ›´å¯èƒ½å› ä¸ºä»€ä¹ˆç ´è´¢ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. çªå‘å¼€é”€æˆ–ç»´ä¿®</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. äººæƒ…å¾€æ¥æˆ–è¯·å®¢</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. æŠ•èµ„å¤±è¯¯</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å†²åŠ¨æ¶ˆè´¹</div>
                    </div>
                </div>

                <div class="question" data-question="15">
                    <p><strong>15. ä½ å¯¹2026å¹´æ•´ä½“è´¢è¿çš„ç›´è§‰æ˜¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. ç¨³æ­¥ä¸Šå‡</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. æ³¢åŠ¨ä¸­æ±‚å‘å±•</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. å…ˆæŠ‘åæ‰¬</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å¹³å¹³æ·¡æ·¡</div>
                    </div>
                </div>

                <div class="question" data-question="16">
                    <p><strong>16. å¦‚æœæœ‰è´µäººåŠ©ä½ è´¢è¿ï¼Œä½ è®¤ä¸ºä»–æ›´å¯èƒ½æ˜¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å¹´é•¿çš„é•¿è¾ˆæˆ–ä¸Šçº§</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. åŒé¾„æœ‹å‹æˆ–åŒäº‹</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. åˆä½œä¼™ä¼´æˆ–å®¢æˆ·</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. é™Œç”Ÿäººæˆ–æ–°è®¤è¯†çš„äºº</div>
                    </div>
                </div>

                <div class="question" data-question="17">
                    <p><strong>17. 2026å¹´ï¼Œä½ çš„æ¶ˆè´¹è§‚å¿µæ›´åå‘ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. æ€§ä»·æ¯”ä¼˜å…ˆ</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å“è´¨ä¼˜å…ˆ</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. å–œæ¬¢å°±ä¹°ï¼Œå¼€å¿ƒé‡è¦</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. æç®€ä¸»ä¹‰ï¼Œå‡å°‘æ¶ˆè´¹</div>
                    </div>
                </div>

                <div class="question" data-question="18">
                    <p><strong>18. å¯¹äºä¿é™©å’Œåº”æ€¥å‚¨å¤‡é‡‘ï¼Œ2026å¹´ä½ çš„åšæ³•æ˜¯ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. æ£€æŸ¥å¹¶è¡¥é½ä¿éšœ</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. ç»´æŒç°çŠ¶</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. è§‰å¾—ä¸å¤ªå¿…è¦</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å¢åŠ å‚¨å¤‡ä»¥é˜²ä¸‡ä¸€</div>
                    </div>
                </div>

                <div class="question" data-question="19">
                    <p><strong>19. ä½ ç›¸ä¿¡2026å¹´è´¢è¿ä¸é£æ°´æˆ–å‰ç¥¥ç‰©æœ‰å…³å—ï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. ç›¸ä¿¡å¹¶ä¼šå¸ƒç½®</div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. å®å¯ä¿¡å…¶æœ‰ï¼Œéšæ„æ”¾ä¸€ä¸ª</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. åªå½“å¿ƒç†å®‰æ…°</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. å®Œå…¨ä¸ä¿¡</div>
                    </div>
                </div>

                <div class="question" data-question="20">
                    <p><strong>20. 2026å¹´å¹´åº•ï¼Œä½ å¸Œæœ›è‡ªå·±çš„è´¢åŠ¡çŠ¶å†µè¾¾æˆï¼Ÿ</strong></p>
                    <div class="option" data-value="3">
                        <div class="radio-custom"></div>
                        <div class="option-label">A. å­˜æ¬¾æ˜æ˜¾å¢åŠ </div>
                    </div>
                    <div class="option" data-value="2">
                        <div class="radio-custom"></div>
                        <div class="option-label">B. è´Ÿå€ºå‡å°‘</div>
                    </div>
                    <div class="option" data-value="1">
                        <div class="radio-custom"></div>
                        <div class="option-label">C. æŠ•èµ„è·åˆ©ä¸°åš</div>
                    </div>
                    <div class="option" data-value="0">
                        <div class="radio-custom"></div>
                        <div class="option-label">D. æ”¶å…¥æ¥æºå¤šæ ·åŒ–</div>
                    </div>
                </div>

                <div class="hint">ğŸ‘† ç‚¹å‡»é€‰é¡¹é€‰æ‹©ç­”æ¡ˆï¼Œå®Œæˆæ‰€æœ‰é¢˜ç›®åæäº¤</div>

                <div class="button-group">
                    <button class="btn btn-prev" onclick="backToPart1Result()">
                        <i class="fas fa-arrow-left"></i> è¿”å›ä¸Šä¸€è½®
                    </button>
                    <button class="btn btn-next" onclick="submitPart2()">
                        æäº¤ç¬¬äºŒè½® <i class="fas fa-check"></i>
                    </button>
                </div>
            </div>

            <!-- æœ€ç»ˆç»“æœ -->
            <div class="quiz-section hidden" id="finalResult">
                <div class="final-result">
                    <div class="horseshoe">ğŸ</div>
                    <h2>2026å¹´é©¬å¹´è´¢è¿æµ‹è¯•ç»“æœ</h2>

                    <div class="loading" id="resultLoading">
                        <div class="spinner"></div>
                        <p>æ­£åœ¨ç”Ÿæˆæ‚¨çš„ä¸“å±è´¢è¿åˆ†æ...</p>
                    </div>

                    <div id="resultContent" style="display: none;">
                        <p><strong>æ€»åˆ†ï¼š</strong> <span id="totalScore"
                                style="font-weight: bold; color: #d4a017;">0</span> / 60 åˆ†</p>

                        <div class="fortune-type" style="margin: 20px 0;">
                            <h4><i class="fas fa-crown"></i> è´¢è¿ç±»å‹</h4>
                            <p id="fortuneType" style="font-size: 1.3rem;">åŠ è½½ä¸­...</p>
                        </div>

                        <!-- æ–°å¢å›¾è¡¨å±•ç¤ºåŒºåŸŸ -->
                        <div class="chart-row">
                            <div class="chart-card">
                                <h4 class="chart-title">å„éƒ¨åˆ†å¾—åˆ†å¯¹æ¯”</h4>
                                <div class="chart-container">
                                    <canvas id="scoreComparisonChart"></canvas>
                                </div>
                            </div>

                            <div class="chart-card">
                                <h4 class="chart-title">è´¢è¿ç±»å‹åˆ†å¸ƒ</h4>
                                <div class="chart-container">
                                    <canvas id="fortuneTypeChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="chart-row">
                            <div class="chart-card">
                                <h4 class="chart-title">è´¢åŠ¡è§„åˆ’å€¾å‘</h4>
                                <div class="chart-container">
                                    <canvas id="planningTendencyChart"></canvas>
                                </div>
                            </div>

                            <div class="chart-card">
                                <h4 class="chart-title">æŠ•èµ„é£é™©åå¥½</h4>
                                <div class="chart-container">
                                    <canvas id="riskPreferenceChart"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="result-item">
                            <h4><i class="fas fa-file-alt"></i> è¯¦ç»†è§£è¯»</h4>
                            <p id="fortuneAnalysis">åŠ è½½ä¸­...</p>
                        </div>

                        <div style="margin-top: 30px; padding-top: 20px; border-top: 1px dashed #e8d9b5;">
                            <p><i class="fas fa-gift" style="color: #d4a017;"></i> ç¥æ‚¨2026å¹´é©¬åˆ°æˆåŠŸï¼Œè´¢æºå¹¿è¿›ï¼</p>
                        </div>
                    </div>

                    <div class="button-group" style="margin-top: 30px;">
                        <button class="btn btn-prev" onclick="restartQuiz()" style="width: 100%;">
                            <i class="fas fa-redo"></i> é‡æ–°æµ‹è¯•
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Â© 2026 é©¬å¹´è´¢è¿æµ‹è¯• | æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œå®é™…è´¢è¿è¿˜éœ€ä¸ªäººåŠªåŠ›</p>
    </footer>

    <script>
        // å…¨å±€å˜é‡
        let part1Score = 0;
        let part2Score = 0;
        let selectedOptions = {};

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', function () {
                    selectOption(this);
                });

                // æ·»åŠ è§¦æ‘¸åé¦ˆ
                option.addEventListener('touchstart', function () {
                    this.classList.add('active');
                });

                option.addEventListener('touchend', function () {
                    this.classList.remove('active');
                });
            });

            // åˆå§‹åŒ–è¿›åº¦æ¡
            updateProgress();

            // åˆå§‹åŒ–å·²é€‰æ‹©çš„ç­”æ¡ˆ
            loadSavedAnswers();
        });

        // é€‰æ‹©é€‰é¡¹
        function selectOption(optionElement) {
            const questionElement = optionElement.closest('.question');
            const questionId = questionElement.getAttribute('data-question');
            const value = optionElement.getAttribute('data-value');

            // ç§»é™¤åŒä¸€é—®é¢˜ä¸‹çš„å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            const siblings = questionElement.querySelectorAll('.option');
            siblings.forEach(sibling => {
                sibling.classList.remove('selected');
            });

            // æ ‡è®°å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
            optionElement.classList.add('selected');

            // ä¿å­˜ç­”æ¡ˆ
            selectedOptions[questionId] = parseInt(value);

            // æ›´æ–°è¿›åº¦æ¡
            updateProgress();

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveAnswers();
        }

        // ä¿å­˜ç­”æ¡ˆåˆ°æœ¬åœ°å­˜å‚¨
        function saveAnswers() {
            try {
                localStorage.setItem('fortuneQuizAnswers', JSON.stringify(selectedOptions));
            } catch (e) {
                // å¿½ç•¥æœ¬åœ°å­˜å‚¨é”™è¯¯
            }
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½ç­”æ¡ˆ
        function loadSavedAnswers() {
            try {
                const saved = localStorage.getItem('fortuneQuizAnswers');
                if (saved) {
                    selectedOptions = JSON.parse(saved);

                    // æ¢å¤å·²é€‰æ‹©çš„é€‰é¡¹
                    Object.keys(selectedOptions).forEach(questionId => {
                        const questionElement = document.querySelector(`.question[data-question="${questionId}"]`);
                        if (questionElement) {
                            const value = selectedOptions[questionId];
                            const optionElement = questionElement.querySelector(`.option[data-value="${value}"]`);
                            if (optionElement) {
                                optionElement.classList.add('selected');
                            }
                        }
                    });

                    updateProgress();
                }
            } catch (e) {
                // å¿½ç•¥æœ¬åœ°å­˜å‚¨é”™è¯¯
            }
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            const progress = document.getElementById('progress');
            const stepIndicator = document.getElementById('stepIndicator');
            const stepCount = document.getElementById('stepCount');

            // è·å–å½“å‰æ´»åŠ¨éƒ¨åˆ†
            let currentPart = 1;
            let answeredCount = 0;
            let totalQuestions = 10;

            if (document.getElementById('part1').classList.contains('active')) {
                currentPart = 1;
                totalQuestions = 10;
            } else if (document.getElementById('part2').classList.contains('active')) {
                currentPart = 2;
                totalQuestions = 10;
            }

            // è®¡ç®—å·²å›ç­”çš„é—®é¢˜æ•°é‡
            for (let i = (currentPart - 1) * 10 + 1; i <= currentPart * 10; i++) {
                if (selectedOptions[i] !== undefined) {
                    answeredCount++;
                }
            }

            // æ›´æ–°è¿›åº¦æ¡
            const progressPercent = (answeredCount / totalQuestions) * 100;
            progress.style.width = progressPercent + '%';

            // æ›´æ–°æŒ‡ç¤ºå™¨æ–‡æœ¬
            stepIndicator.textContent = currentPart === 1 ? `ç¬¬ä¸€è½® ${answeredCount}/10` : `ç¬¬äºŒè½® ${answeredCount}/10`;
            stepCount.textContent = `ç¬¬${answeredCount === 0 ? '1' : answeredCount}é¢˜`;
        }

        // æäº¤ç¬¬ä¸€éƒ¨åˆ†
        function submitPart1() {
            // æ£€æŸ¥æ˜¯å¦å·²å›ç­”æ‰€æœ‰é—®é¢˜
            let allAnswered = true;
            for (let i = 1; i <= 10; i++) {
                if (selectedOptions[i] === undefined) {
                    allAnswered = false;
                    // é«˜äº®æœªå›ç­”çš„é—®é¢˜
                    const questionElement = document.querySelector(`.question[data-question="${i}"]`);
                    questionElement.style.borderLeftColor = '#ff4757';
                    questionElement.style.animation = 'none';
                    questionElement.offsetHeight; // è§¦å‘é‡æ’
                    questionElement.style.animation = 'fadeIn 0.8s ease';

                    // 3ç§’åæ¢å¤
                    setTimeout(() => {
                        questionElement.style.borderLeftColor = '#d4a017';
                    }, 3000);
                }
            }

            if (!allAnswered) {
                alert('è¯·å…ˆå›ç­”æ‰€æœ‰é¢˜ç›®å†æäº¤ï¼');
                return;
            }

            // è®¡ç®—åˆ†æ•°
            part1Score = 0;
            for (let i = 1; i <= 10; i++) {
                part1Score += selectedOptions[i] || 0;
            }

            // æ˜¾ç¤ºåˆ†æ•°å’Œåˆæ­¥åˆ†æ
            document.getElementById('score1').textContent = part1Score;

            let analysis = '';
            if (part1Score >= 25) {
                analysis = 'ä½ æ³¨é‡è§„åˆ’ï¼Œè´¢åŠ¡åŸºç¡€æ‰å®ï¼Œ2026å¹´æ­£è´¢ç¨³å›ºã€‚é€šè¿‡è¯¦ç»†çš„æ”¶æ”¯è®¡åˆ’å’Œä¸¥æ ¼æ‰§è¡Œï¼Œä½ èƒ½å¤Ÿæœ‰æ•ˆç®¡ç†è´¢åŠ¡ï¼Œé¿å…ä¸å¿…è¦çš„å¼€æ”¯ã€‚';
            } else if (part1Score >= 15) {
                analysis = 'ä½ çµæ´»åº”å˜ï¼Œè´¢è¿æœºä¼šè¾ƒå¤šï¼Œéœ€ä¸»åŠ¨æŠŠæ¡ã€‚ä½ çš„è´¢åŠ¡è§‚å¿µè¾ƒä¸ºå¼€æ”¾ï¼Œæ„¿æ„å°è¯•æ–°çš„æ”¶å…¥æ¥æºï¼Œä½†éœ€è¦æ³¨æ„é£é™©æ§åˆ¶ã€‚';
            } else {
                analysis = 'ä½ æ›´éšæ€§ï¼Œè´¢è¿å¯èƒ½ä¾èµ–æœºé‡ï¼Œæ³¨æ„æ„å¤–å¼€æ”¯ã€‚ä½ çš„è´¢åŠ¡ç®¡ç†è¾ƒä¸ºéšæ„ï¼Œå¯èƒ½æ›´å¤šä¾èµ–ç›´è§‰å’Œæœºä¼šï¼Œå»ºè®®å¢åŠ ä¸€äº›è§„åˆ’æ€§ã€‚';
            }

            document.getElementById('analysis1').textContent = analysis;

            // åˆ‡æ¢åˆ°ç¬¬ä¸€éƒ¨åˆ†ç»“æœ
            document.getElementById('part1').classList.remove('active');
            document.getElementById('part1').classList.add('hidden');
            document.getElementById('part1Result').classList.remove('hidden');
            document.getElementById('part1Result').classList.add('active');

            // æ›´æ–°è¿›åº¦æ¡
            document.getElementById('stepIndicator').textContent = 'ç¬¬ä¸€è½®å®Œæˆ';
            document.getElementById('stepCount').textContent = 'ç­‰å¾…è¿›å…¥ç¬¬äºŒè½®';
            document.getElementById('progress').style.width = '100%';

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // æ˜¾ç¤ºç¬¬äºŒéƒ¨åˆ†
        function showPart2() {
            document.getElementById('part1Result').classList.remove('active');
            document.getElementById('part1Result').classList.add('hidden');
            document.getElementById('part2').classList.remove('hidden');
            document.getElementById('part2').classList.add('active');

            // æ›´æ–°è¿›åº¦æ¡
            updateProgress();

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // è¿”å›åˆ°ç¬¬ä¸€éƒ¨åˆ†ç»“æœ
        function backToPart1Result() {
            document.getElementById('part2').classList.remove('active');
            document.getElementById('part2').classList.add('hidden');
            document.getElementById('part1Result').classList.remove('hidden');
            document.getElementById('part1Result').classList.add('active');

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // æäº¤ç¬¬äºŒéƒ¨åˆ†
        function submitPart2() {
            // æ£€æŸ¥æ˜¯å¦å·²å›ç­”æ‰€æœ‰é—®é¢˜
            let allAnswered = true;
            for (let i = 11; i <= 20; i++) {
                if (selectedOptions[i] === undefined) {
                    allAnswered = false;
                    // é«˜äº®æœªå›ç­”çš„é—®é¢˜
                    const questionElement = document.querySelector(`.question[data-question="${i}"]`);
                    questionElement.style.borderLeftColor = '#ff4757';
                    questionElement.style.animation = 'none';
                    questionElement.offsetHeight; // è§¦å‘é‡æ’
                    questionElement.style.animation = 'fadeIn 0.8s ease';

                    // 3ç§’åæ¢å¤
                    setTimeout(() => {
                        questionElement.style.borderLeftColor = '#d4a017';
                    }, 3000);
                }
            }

            if (!allAnswered) {
                alert('è¯·å…ˆå›ç­”æ‰€æœ‰é¢˜ç›®å†æäº¤ï¼');
                return;
            }

            // åˆ‡æ¢åˆ°æœ€ç»ˆç»“æœé¡µé¢
            document.getElementById('part2').classList.remove('active');
            document.getElementById('part2').classList.add('hidden');
            document.getElementById('finalResult').classList.remove('hidden');
            document.getElementById('finalResult').classList.add('active');

            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            document.getElementById('resultLoading').style.display = 'block';
            document.getElementById('resultContent').style.display = 'none';

            // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
            setTimeout(() => {
                // è®¡ç®—ç¬¬äºŒéƒ¨åˆ†åˆ†æ•°
                part2Score = 0;
                for (let i = 11; i <= 20; i++) {
                    part2Score += selectedOptions[i] || 0;
                }

                const totalScore = part1Score + part2Score;

                // æ˜¾ç¤ºæœ€ç»ˆç»“æœ
                document.getElementById('totalScore').textContent = totalScore;

                let type = '', analysis = '';
                if (totalScore >= 50) {
                    type = 'ğŸ† ç¨³å¥ç§¯ç´¯å‹';
                    analysis = '2026å¹´ä½ çš„è´¢è¿ä»¥"å®ˆ"ä¸ºä¸»ï¼Œé€šè¿‡è§„åˆ’ä¸ç§¯ç´¯ç¨³æ­¥å¢é•¿ã€‚é€‚åˆå‚¨è“„ã€å®šæœŸç†è´¢ï¼Œé¿å…é«˜é£é™©æŠ•èµ„ã€‚èŒåœºæ­£è´¢æ˜¯ä¸»è¦æ¥æºï¼Œå¹´åº•ä¼šæœ‰å¯è§‚çš„ç›ˆä½™ã€‚æ˜¥å­£è´¢è¿è¾ƒæ—ºï¼Œå¯æŠŠæ¡æ—¶æœºè¿›è¡Œé•¿æœŸè§„åˆ’ã€‚';
                } else if (totalScore >= 40) {
                    type = 'ğŸš€ çµæ´»è¿›å–å‹';
                    analysis = 'è´¢è¿æœºä¼šè¾ƒå¤šï¼Œä½†éœ€è¦ä¸»åŠ¨æŠŠæ¡ã€‚é€‚åˆå¼€å±•å‰¯ä¸šã€å°è¯•ç¨³å¥æŠ•èµ„ï¼Œå¤šä¸äººåˆä½œã€‚æ³¨æ„æ§åˆ¶å†²åŠ¨æ¶ˆè´¹ï¼Œè´¢è¿å¯èƒ½å¹´ä¸­å¼€å§‹ä¸Šæ‰¬ã€‚å¤å­£å¯èƒ½ä¼šæœ‰ä¸é”™çš„æŠ•èµ„æœºä¼šå‡ºç°ã€‚';
                } else if (totalScore >= 30) {
                    type = 'ğŸ¤ äººé™…åŠ©åŠ›å‹';
                    analysis = 'è´¢è¿ä¸äººè„‰ç´§å¯†ç›¸å…³ã€‚å¤šäº¤æœ‹å‹ã€ç»´æŠ¤å…³ç³»ä¼šå¸¦æ¥æ„å¤–æœºä¼šã€‚é¿å…å€Ÿé’±ç»™äººï¼Œä¸“æ³¨é€šè¿‡åˆä½œè·åˆ©ã€‚åè´¢è¿ä¸é”™ï¼Œå¯å…³æ³¨çº¢åŒ…ã€ç¤¼ç‰©ç­‰å°æƒŠå–œã€‚ç§‹å­£è´µäººè¿æœ€å¼ºã€‚';
                } else if (totalScore >= 20) {
                    type = 'ğŸ² ç›´è§‰éšç¼˜å‹';
                    analysis = 'è´¢è¿èµ·ä¼è¾ƒå¤§ï¼Œæ›´å¤šè·Ÿéšç›´è§‰ä¸æ—¶æœºã€‚é€‚åˆçŸ­çº¿ã€å°é¢æŠ•èµ„ï¼Œè§å¥½å°±æ”¶ã€‚æ³¨æ„çªå‘å¼€æ”¯ï¼Œä¿æŒä¹è§‚å¿ƒæ€ï¼Œä¸‹åŠå¹´å¯èƒ½æœ‰æ„å¤–æ”¶è·ã€‚å†¬å­£è´¢è¿è¾ƒä½³ã€‚';
                } else {
                    type = 'â˜¯ï¸ å¹³å’ŒçŸ¥è¶³å‹';
                    analysis = 'è´¢è¿å¹³ç¨³ï¼Œä½ å¯¹ç‰©è´¨è¿½æ±‚è¾ƒä¸ºæ·¡æ³Šã€‚é€‚åˆå‡å°‘ä¸å¿…è¦çš„æ¶ˆè´¹ï¼Œä¸“æ³¨ç”Ÿæ´»è´¨é‡è€Œéè´¢å¯Œæ•°å­—ã€‚å¥åº·å³æ˜¯è´¢ï¼Œé¿å…è´¢åŠ¡å‹åŠ›ï¼Œå®‰å¿ƒåº¦è¿‡é©¬å¹´ã€‚å…¨å¹´è´¢è¿å¹³ç¨³ï¼Œæ— å¤§èµ·å¤§è½ã€‚';
                }

                document.getElementById('fortuneType').textContent = type;
                document.getElementById('fortuneAnalysis').textContent = analysis;

                // éšè—åŠ è½½åŠ¨ç”»ï¼Œæ˜¾ç¤ºç»“æœ
                document.getElementById('resultLoading').style.display = 'none';
                document.getElementById('resultContent').style.display = 'block';

                // ç”Ÿæˆå›¾è¡¨
                generateCharts(totalScore);

                // æ¸…é™¤æœ¬åœ°å­˜å‚¨
                try {
                    localStorage.removeItem('fortuneQuizAnswers');
                } catch (e) {
                    // å¿½ç•¥é”™è¯¯
                }
            }, 1500);

            // æ›´æ–°è¿›åº¦æ¡
            document.getElementById('stepIndicator').textContent = 'æµ‹è¯•å®Œæˆ';
            document.getElementById('stepCount').textContent = 'æŸ¥çœ‹ç»“æœ';
            document.getElementById('progress').style.width = '100%';

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // é‡æ–°å¼€å§‹æµ‹è¯•
        function restartQuiz() {
            // é‡ç½®æ‰€æœ‰çŠ¶æ€
            part1Score = 0;
            part2Score = 0;
            selectedOptions = {};

            // æ¸…é™¤æ‰€æœ‰é€‰æ‹©
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });

            // éšè—æ‰€æœ‰éƒ¨åˆ†ï¼Œæ˜¾ç¤ºç¬¬ä¸€éƒ¨åˆ†
            document.querySelectorAll('.quiz-section').forEach(section => {
                section.classList.remove('active');
                section.classList.add('hidden');
            });

            document.getElementById('part1').classList.remove('hidden');
            document.getElementById('part1').classList.add('active');

            // é‡ç½®è¿›åº¦æ¡
            updateProgress();

            // æ¸…é™¤æœ¬åœ°å­˜å‚¨
            try {
                localStorage.removeItem('fortuneQuizAnswers');
            } catch (e) {
                // å¿½ç•¥é”™è¯¯
            }

            // æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
        }

        // æ–°å¢å›¾è¡¨ç”Ÿæˆå‡½æ•°
        function generateCharts(totalScore) {
            // å„éƒ¨åˆ†å¾—åˆ†å¯¹æ¯”å›¾
            const scoreComparisonCtx = document.getElementById('scoreComparisonChart').getContext('2d');
            new Chart(scoreComparisonCtx, {
                type: 'bar',
                data: {
                    labels: ['è´¢åŠ¡è§„åˆ’', 'è´¢å¯Œæœºä¼š', 'é¢å¤–æ”¶å…¥', 'æŠ•èµ„é£é™©', 'æ¶ˆè´¹å€¾å‘', 'å€Ÿè´·æ€åº¦', 'èŒåœºè´¢å¯Œ', 'åè´¢è¿', 'è´¢åŠ¡å‹åŠ›', 'è´¢è¿å­£èŠ‚'],
                    datasets: [{
                        label: 'å¾—åˆ†',
                        data: [
                            selectedOptions[1] || 0,
                            selectedOptions[2] || 0,
                            selectedOptions[3] || 0,
                            selectedOptions[4] || 0,
                            selectedOptions[5] || 0,
                            selectedOptions[6] || 0,
                            selectedOptions[7] || 0,
                            selectedOptions[8] || 0,
                            selectedOptions[9] || 0,
                            selectedOptions[10] || 0
                        ],
                        backgroundColor: [
                            'rgba(212, 160, 23, 0.7)',
                            'rgba(139, 69, 19, 0.7)',
                            'rgba(233, 196, 106, 0.7)',
                            'rgba(231, 111, 81, 0.7)',
                            'rgba(244, 162, 97, 0.7)',
                            'rgba(42, 157, 143, 0.7)',
                            'rgba(233, 196, 106, 0.7)',
                            'rgba(38, 70, 83, 0.7)',
                            'rgba(231, 111, 81, 0.7)',
                            'rgba(244, 162, 97, 0.7)'
                        ],
                        borderColor: [
                            'rgba(212, 160, 23, 1)',
                            'rgba(139, 69, 19, 1)',
                            'rgba(233, 196, 106, 1)',
                            'rgba(231, 111, 81, 1)',
                            'rgba(244, 162, 97, 1)',
                            'rgba(42, 157, 143, 1)',
                            'rgba(233, 196, 106, 1)',
                            'rgba(38, 70, 83, 1)',
                            'rgba(231, 111, 81, 1)',
                            'rgba(244, 162, 97, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 3
                        }
                    }
                }
            });

            // è´¢è¿ç±»å‹åˆ†å¸ƒå›¾
            const fortuneTypeCtx = document.getElementById('fortuneTypeChart').getContext('2d');
            new Chart(fortuneTypeCtx, {
                type: 'doughnut',
                data: {
                    labels: ['ç¨³å¥ç§¯ç´¯å‹', 'çµæ´»è¿›å–å‹', 'äººé™…åŠ©åŠ›å‹', 'ç›´è§‰éšç¼˜å‹', 'å¹³å’ŒçŸ¥è¶³å‹'],
                    datasets: [{
                        data: [20, 30, 25, 15, 10],
                        backgroundColor: [
                            'rgba(212, 160, 23, 0.7)',
                            'rgba(139, 69, 19, 0.7)',
                            'rgba(233, 196, 106, 0.7)',
                            'rgba(231, 111, 81, 0.7)',
                            'rgba(244, 162, 97, 0.7)'
                        ],
                        borderColor: [
                            'rgba(212, 160, 23, 1)',
                            'rgba(139, 69, 19, 1)',
                            'rgba(233, 196, 106, 1)',
                            'rgba(231, 111, 81, 1)',
                            'rgba(244, 162, 97, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });

            // è´¢åŠ¡è§„åˆ’å€¾å‘å›¾
            const planningTendencyCtx = document.getElementById('planningTendencyChart').getContext('2d');
            new Chart(planningTendencyCtx, {
                type: 'radar',
                data: {
                    labels: ['è§„åˆ’æ€§', 'çµæ´»æ€§', 'å†’é™©ç²¾ç¥', 'ä¿å®ˆæ€åº¦', 'ç¤¾äº¤å½±å“'],
                    datasets: [{
                        label: 'æ‚¨çš„å€¾å‘',
                        data: [
                            selectedOptions[1] || 0,
                            3 - (selectedOptions[1] || 0),
                            selectedOptions[4] || 0,
                            3 - (selectedOptions[4] || 0),
                            selectedOptions[6] || 0
                        ],
                        backgroundColor: 'rgba(212, 160, 23, 0.2)',
                        borderColor: 'rgba(212, 160, 23, 1)',
                        pointBackgroundColor: 'rgba(212, 160, 23, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(212, 160, 23, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        r: {
                            angleLines: {
                                display: true
                            },
                            suggestedMin: 0,
                            suggestedMax: 3
                        }
                    }
                }
            });

            // æŠ•èµ„é£é™©åå¥½å›¾
            const riskPreferenceCtx = document.getElementById('riskPreferenceChart').getContext('2d');
            new Chart(riskPreferenceCtx, {
                type: 'polarArea',
                data: {
                    labels: ['é£é™©ç ”ç©¶', 'å°é¢å°è¯•', 'è·Ÿéšä¸“å®¶', 'å›é¿é£é™©'],
                    datasets: [{
                        data: [
                            selectedOptions[4] === 3 ? 1 : 0,
                            selectedOptions[4] === 2 ? 1 : 0,
                            selectedOptions[4] === 1 ? 1 : 0,
                            selectedOptions[4] === 0 ? 1 : 0
                        ],
                        backgroundColor: [
                            'rgba(212, 160, 23, 0.7)',
                            'rgba(139, 69, 19, 0.7)',
                            'rgba(233, 196, 106, 0.7)',
                            'rgba(231, 111, 81, 0.7)'
                        ],
                        borderColor: [
                            'rgba(212, 160, 23, 1)',
                            'rgba(139, 69, 19, 1)',
                            'rgba(233, 196, 106, 1)',
                            'rgba(231, 111, 81, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }

        // å¤„ç†çª—å£å¤§å°å˜åŒ–æ—¶é‡ç»˜å›¾è¡¨
        window.addEventListener('resize', function () {
            if (document.getElementById('finalResult').classList.contains('active')) {
                const charts = Chart.getChart("scoreComparisonChart");
                if (charts) {
                    charts.destroy();
                    generateCharts(parseInt(document.getElementById('totalScore').textContent));
                }
            }
        });


    </script>

    <!-- Font Awesome å›¾æ ‡åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
</body>

</html>